<?xml version="1.0" encoding="UTF-8"?>
<api context="/centro-custo" name="CentroCustoAPI" xmlns="http://ws.apache.org/ns/synapse">
    <resource methods="GET" uri-template="/v1/centro-custo">
        <inSequence>
            <log level="custom">
                <property name="--> " value="Requisitando recebida! - /centro-custo/v1/centro-custo"/>
            </log>
            <sequence key="ListarCentroDeCustoSequence"/>
            <propertyGroup>
                <property expression="$trp:Accept" name="messageType" scope="axis2" type="STRING"/>
                <property expression="$trp:Accept" name="Content-Type" scope="axis2" type="STRING"/>
            </propertyGroup>
            <log level="custom">
                <property name="--> " value="Requisitando finalizada!"/>
            </log>
            <respond/>
        </inSequence>
        <outSequence/>
        <faultSequence/>
    </resource>
    <resource methods="GET" uri-template="/v1/centro-custo/{estabelecimento}/{codigo}">
        <inSequence>
            <log level="custom">
                <property name="--> " value="Requisitando recebida! - /v1/centro-custo/{estabelecimento}/{codigo}"/>
            </log>
            <sequence key="ListarCentroDeCustoSequence"/>
            <xslt key="conf:transform/TransformCentroCusto.xslt">
                <property expression="$ctx:uri.var.estabelecimento" name="PARAM_ESTAB"/>
                <property expression="$ctx:uri.var.codigo" name="PARAM_CODIGO"/>
            </xslt>
            <propertyGroup>
                <property expression="$trp:Accept" name="messageType" scope="axis2" type="STRING"/>
                <property expression="$trp:Accept" name="Content-Type" scope="axis2" type="STRING"/>
            </propertyGroup>
            <log level="custom">
                <property name="--> " value="Requisitando finalizada!"/>
            </log>
            <respond/>
        </inSequence>
        <outSequence/>
        <faultSequence/>
    </resource>
    <resource methods="GET" uri-template="/v1/centro-custo/{descricao}">
        <inSequence>
            <log level="custom">
                <property name="--> " value="Requisitando recebida! - /v1/centro-custo/{descricao}"/>
            </log>
            <sequence key="ListarCentroDeCustoSequence"/>
            <xslt key="conf:transform/TransformCentroCustoDescricao.xslt">
                <property expression="$ctx:uri.var.descricao" name="PARAM_DESCRICAO"/>
            </xslt>
            <propertyGroup>
                <property expression="$trp:Accept" name="messageType" scope="axis2" type="STRING"/>
                <property expression="$trp:Accept" name="Content-Type" scope="axis2" type="STRING"/>
            </propertyGroup>
            <log level="custom">
                <property name="--> " value="Requisitando finalizada!"/>
            </log>
            <respond/>
        </inSequence>
        <outSequence/>
        <faultSequence/>
    </resource>
</api>
